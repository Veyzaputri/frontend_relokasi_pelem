<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <title>Website Profile Desa Relokasi Pelem</title>
</head>
<body>
   <!-- Navbar -->
  <header class="navbar">
    <div class="container">
      <h1 class="logo">Relokasi Pelem</h1>
      <nav>
        <ul class="nav-links">
          <li><a href="dashboard_admin.html">Beranda</a></li>
          <li><a href="berita_admin.html">Berita</a></li>
          <li><a href="sosial_kemanusiaan.html">Sosial & Kemanusiaan</a></li>
          <li><a href="tokoh_masyarakat.html">Tokoh Masyarakat</a></li>
          <li><a href="#">Organisasi</a></li>
          <li><a href="#">Kontak Kami</a></li>
        </ul>
      </nav>
      <div class="auth-buttons">
        <button class="btn logout" >Logout</button>
      </div>
    </div>
  </header> 


  <section class="hero">
    <div class="hero-text animate-fade-in">
      <h2>Website Profil Desa</h2>
      <h1>RELOKASI PELEM</h1>
    </div>
  </section>
  <section class="video-section animate-on-scroll">
  <div class="video-container">
    <h2 class="animate-on-scroll">Video Profil Desa Relokasi Pelem</h2>
    <div class="video-frame animate-on-scroll">
      <video controls poster="../video/vid_example.mp4">
        <source src="../video/vid_example.mp4" type="video/mp4">
        Browser Anda tidak mendukung video ini.
      </video>
    </div>
  </div>
</section>

<section class="tokoh-section animate-on-scroll">
  <h2>Tokoh Masyarakat Desa Relokasi Pelem</h2>
  <div class="tokoh-grid">
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Ketua RW">
      <p>Ketua RW</p>
    </div>
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Wakil Ketua RW">
      <p>Wakil Ketua RW</p>
    </div>
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Sekretaris Desa">
      <p>Sekretaris Desa</p>
    </div>
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Pengurus">
      <p>Pengurus</p>
    </div>

    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Ketua RW">
      <p>Ketua RW</p>
    </div>
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Wakil Ketua RW">
      <p>Wakil Ketua RW</p>
    </div>
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Sekretaris Desa">
      <p>Sekretaris Desa</p>
    </div>
    <div class="tokoh-card">
      <img src="../image/Pak_RW_example.jpg" alt="Pengurus">
      <p>Pengurus</p>
    </div>
  </div>
</section>

<footer class="footer-section">
  <div class="footer-container">
    <div class="footer-contact">
      <h3>Kontak</h3>
      <p><strong>Alamat :</strong> Dusun Relokasi Pelem, Kalurahan Girikerto, Kapanewon Turi, Kabupaten Sleman, DIY</p>
    </div>
    <div class="footer-social">
      <h4>Follow us :</h4>
      <div class="social-icons">
        <a href="https://instagram.com/ipp_sebaya" target="_blank">
          <img src="./image/ig.png" alt="Instagram">
          @ipp_sebaya
        </a>
        <a href="https://facebook.com/Ipp Sebaya" target="_blank">
          <img src="./image/fb.png" alt="Facebook">
          Ipp Sebaya
        </a>
        <a href="https://tiktok.com/@ipp_sebaya" target="_blank">
          <img src="./image/tt.png" alt="TikTok">
          ipp_sebaya
        </a>
      </div>
    </div>
  </div>
      <p class="copyright">Â© 2025 Desa Relokasi Pelem. All rights reserved.</p>

</footer>
</body>
</html>


<script>
  // Scroll animation trigger
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
      }
    });
  });

  const hiddenElements = document.querySelectorAll('.animate-on-scroll');
  hiddenElements.forEach(el => observer.observe(el));

 fetch("https://backend-relokasi-pelem.vercel.app/whoami", {
  credentials: 'include'
})
.then(res => {
  if (!res.ok) throw new Error("Session invalid");
  return res.json();
})
.then(data => {
  if (!data.userId) {
    alert("Sesi login Anda telah berakhir. Silakan login kembali.");
    window.location.href = "../index.html";
  }
})
.catch(error => {
  console.warn("Gagal cek login:", error.message);
  alert("Sesi login Anda telah berakhir. Silakan login kembali.");
  window.location.href = "../index.html";
});

document.addEventListener('DOMContentLoaded', () => {
  const logoutBtn = document.querySelector('.btn.logout');
  if (logoutBtn) {
    logoutBtn.addEventListener('click', async () => {
      try {
        const response = await fetch('https://backend-relokasi-pelem.vercel.app/logout', {
          method: 'DELETE',
          credentials: 'include'
        });
        const data = await response.json();
        alert(data.msg);
        if (response.ok) window.location.href = "../index.html";
      } catch (error) {
        console.error("Logout error:", error);
        alert("Terjadi kesalahan saat logout");
      }
    });
  }
});

</script>
</body>
</html>
